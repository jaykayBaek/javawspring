<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.javawspring.dao.BoardDAO">
	<select id="getBoardList" resultType="com.spring.javawspring.vo.BoardVO">
		SELECT *
		FROM board2
		ORDER BY idx DESC
		LIMIT #{startIndexNo}, #{pageSize};
	</select>
	<select id="getTotRecordCnt" resultType="int">
		SELECT COUNT(*) FROM board2;
	</select>
	<select id="getBoardContent" resultType="com.spring.javawspring.vo.BoardVO">
		SELECT * FROM board2 WHERE idx = #{idx};
	</select>
	
	<insert id="setBoardInput">
		INSERT INTO board2
		VALUES(DEFAULT, #{vo.nickName}, #{vo.title}, #{vo.email}, #{vo.homePage}, 
		#{vo.content}, DEFAULT, #{vo.hostIp}, DEFAULT, DEFAULT, #{vo.mid});
	</insert>
	
	<update id="setBoardReadNum">
		UPDATE board2 SET readNum = readNum+1 WHERE idx=#{idx};
	</update>
	
</mapper>